{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/opt/js/storage_sys/pages/account/profile.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { useEffect, useContext } from 'react';\nimport { ContextData, useAuth } from '../../contexts';\nimport Login from '../../components/login';\nimport ContainerProfile from '../../components/profile';\nexport default function Profile() {\n  const {\n    session,\n    setSession,\n    authenticated\n  } = useAuth();\n  useEffect(async () => {\n    if (authenticated && session) {\n      let rt = await (await fetch(`/api/user`, {\n        headers: {\n          'Authorization': `Bearer ${session.token}`\n        }\n      })).json();\n\n      if (rt) {\n        setSession(_objectSpread(_objectSpread({}, session), rt));\n      }\n    }\n  }, [authenticated]);\n\n  if (!authenticated) {\n    return /*#__PURE__*/_jsxDEV(Login, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 20,\n      columnNumber: 10\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(ContainerProfile, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 25,\n    columnNumber: 7\n  }, this);\n}","map":{"version":3,"sources":["/opt/js/storage_sys/pages/account/profile.js"],"names":["useEffect","useContext","ContextData","useAuth","Login","ContainerProfile","Profile","session","setSession","authenticated","rt","fetch","headers","token","json"],"mappings":";;;;;;;;;AAAA,SAASA,SAAT,EAAoBC,UAApB,QAAsC,OAAtC;AACA,SAASC,WAAT,EAAsBC,OAAtB,QAAqC,gBAArC;AACA,OAAOC,KAAP,MAAkB,wBAAlB;AACA,OAAOC,gBAAP,MAA6B,0BAA7B;AAEA,eAAe,SAASC,OAAT,GAAkB;AAC9B,QAAM;AAAEC,IAAAA,OAAF;AAAWC,IAAAA,UAAX;AAAuBC,IAAAA;AAAvB,MAAyCN,OAAO,EAAtD;AAEAH,EAAAA,SAAS,CAAC,YAAS;AAChB,QAAGS,aAAa,IAAIF,OAApB,EAA4B;AACzB,UAAIG,EAAE,GAAG,MAAM,CAAC,MAAMC,KAAK,CAAE,WAAF,EAAa;AAACC,QAAAA,OAAO,EAAE;AAAC,2BAAiB,UAASL,OAAO,CAACM,KAAM;AAAzC;AAAV,OAAb,CAAZ,EAAkFC,IAAlF,EAAf;;AACA,UAAGJ,EAAH,EAAM;AACHF,QAAAA,UAAU,iCAAKD,OAAL,GAAiBG,EAAjB,EAAV;AACF;AACH;AACH,GAPQ,EAOP,CAACD,aAAD,CAPO,CAAT;;AASA,MAAG,CAACA,aAAJ,EAAkB;AACf,wBACG,QAAC,KAAD;AAAA;AAAA;AAAA;AAAA,YADH;AAGF;;AAED,sBACG,QAAC,gBAAD;AAAA;AAAA;AAAA;AAAA,UADH;AAGF","sourcesContent":["import { useEffect, useContext } from 'react';\nimport { ContextData, useAuth } from '../../contexts';\nimport Login from '../../components/login';\nimport ContainerProfile from '../../components/profile';\n\nexport default function Profile(){\n   const { session, setSession, authenticated } = useAuth()\n\n   useEffect(async()=>{\n      if(authenticated && session){\n         let rt = await (await fetch(`/api/user`,{headers: {'Authorization':`Bearer ${session.token}`}})).json()\n         if(rt){\n            setSession({...session, ...rt})\n         }\n      }\n   },[authenticated])\n\n   if(!authenticated){\n      return (\n         <Login/>\n      )\n   }\n\n   return (\n      <ContainerProfile/>\n   )\n}\n"]},"metadata":{},"sourceType":"module"}