{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/opt/js/storage_sys/pages/index.js\";\nimport { useEffect } from 'react';\nimport { useData, useAuth } from '../contexts';\nimport App from '../components/app';\nimport Login from '../components/login';\nexport default function Index() {\n  const {\n    session,\n    authenticated\n  } = useAuth();\n  const {\n    setListRecords,\n    setCheckAll\n  } = useData();\n  useEffect(async () => {\n    if (authenticated && session) {\n      let {\n        entries\n      } = await (await fetch(`/api/get-list-folder`, {\n        headers: {\n          'Authorization': `Bearer ${session.token}`\n        }\n      })).json();\n\n      if (entries) {\n        setListRecords(entries);\n        setCheckAll(false);\n      }\n    }\n  }, [authenticated]);\n\n  if (!authenticated) {\n    return /*#__PURE__*/_jsxDEV(Login, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 10\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(App, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 27,\n    columnNumber: 7\n  }, this);\n}","map":{"version":3,"sources":["/opt/js/storage_sys/pages/index.js"],"names":["useEffect","useData","useAuth","App","Login","Index","session","authenticated","setListRecords","setCheckAll","entries","fetch","headers","token","json"],"mappings":";;AAAA,SAASA,SAAT,QAA0B,OAA1B;AACA,SAASC,OAAT,EAAkBC,OAAlB,QAAiC,aAAjC;AACA,OAAOC,GAAP,MAAgB,mBAAhB;AACA,OAAOC,KAAP,MAAkB,qBAAlB;AAEA,eAAe,SAASC,KAAT,GAAgB;AAC5B,QAAM;AAAEC,IAAAA,OAAF;AAAWC,IAAAA;AAAX,MAA6BL,OAAO,EAA1C;AACA,QAAM;AAAEM,IAAAA,cAAF;AAAkBC,IAAAA;AAAlB,MAAkCR,OAAO,EAA/C;AAEAD,EAAAA,SAAS,CAAC,YAAS;AAChB,QAAGO,aAAa,IAAID,OAApB,EAA4B;AACzB,UAAI;AAAEI,QAAAA;AAAF,UAAc,MAAM,CAAC,MAAMC,KAAK,CAAE,sBAAF,EAAwB;AAACC,QAAAA,OAAO,EAAE;AAAC,2BAAiB,UAASN,OAAO,CAACO,KAAM;AAAzC;AAAV,OAAxB,CAAZ,EAA6FC,IAA7F,EAAxB;;AACA,UAAGJ,OAAH,EAAW;AACRF,QAAAA,cAAc,CAACE,OAAD,CAAd;AACAD,QAAAA,WAAW,CAAC,KAAD,CAAX;AACF;AACH;AACH,GARQ,EAQP,CAACF,aAAD,CARO,CAAT;;AAUA,MAAG,CAACA,aAAJ,EAAkB;AACf,wBACG,QAAC,KAAD;AAAA;AAAA;AAAA;AAAA,YADH;AAGF;;AAED,sBACG,QAAC,GAAD;AAAA;AAAA;AAAA;AAAA,UADH;AAGF","sourcesContent":["import { useEffect } from 'react';\nimport { useData, useAuth } from '../contexts';\nimport App from '../components/app';\nimport Login from '../components/login';\n\nexport default function Index(){\n   const { session, authenticated } = useAuth()\n   const { setListRecords, setCheckAll } = useData()\n\n   useEffect(async()=>{\n      if(authenticated && session){\n         let { entries } = await (await fetch(`/api/get-list-folder`,{headers: {'Authorization':`Bearer ${session.token}`}})).json()\n         if(entries){\n            setListRecords(entries)\n            setCheckAll(false)\n         }\n      }\n   },[authenticated])\n\n   if(!authenticated){\n      return (\n         <Login/>\n      )\n   }\n\n   return (\n      <App/>\n   )\n}\n"]},"metadata":{},"sourceType":"module"}