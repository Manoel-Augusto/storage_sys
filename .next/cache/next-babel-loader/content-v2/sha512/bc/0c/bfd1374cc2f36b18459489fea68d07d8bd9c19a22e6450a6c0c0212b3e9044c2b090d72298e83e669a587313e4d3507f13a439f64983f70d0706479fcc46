{"ast":null,"code":"const {\n  serialize\n} = require('cookie');\n\nexport default async function handler(req, res) {\n  try {\n    const {\n      method\n    } = req;\n\n    if (method === 'GET') {\n      res.setHeader('Set-Cookie', serialize('tk', '', {\n        maxAge: -1,\n        path: '/'\n      }));\n      res.writeHead(302, {\n        Location: '/'\n      });\n      res.end();\n    } else {\n      res.status(405).end(`Method ${method} Not Allowed`);\n    }\n  } catch (err) {\n    res.status(500).json({\n      statusCode: 500,\n      msg: err.message\n    });\n  }\n}","map":{"version":3,"sources":["/opt/js/storage_sys/pages/api/logout.js"],"names":["serialize","require","handler","req","res","method","setHeader","maxAge","path","writeHead","Location","end","status","err","json","statusCode","msg","message"],"mappings":"AAAA,MAAM;AAAEA,EAAAA;AAAF,IAAgBC,OAAO,CAAC,QAAD,CAA7B;;AAEA,eAAe,eAAeC,OAAf,CAAuBC,GAAvB,EAA4BC,GAA5B,EAAgC;AAC5C,MAAG;AACA,UAAM;AAAEC,MAAAA;AAAF,QAAaF,GAAnB;;AACA,QAAGE,MAAM,KAAK,KAAd,EAAoB;AACjBD,MAAAA,GAAG,CAACE,SAAJ,CAAc,YAAd,EAA4BN,SAAS,CAAC,IAAD,EAAO,EAAP,EAAW;AAC7CO,QAAAA,MAAM,EAAE,CAAC,CADoC;AAE7CC,QAAAA,IAAI,EAAE;AAFuC,OAAX,CAArC;AAIAJ,MAAAA,GAAG,CAACK,SAAJ,CAAc,GAAd,EAAmB;AAAEC,QAAAA,QAAQ,EAAE;AAAZ,OAAnB;AACAN,MAAAA,GAAG,CAACO,GAAJ;AACF,KAPD,MAOK;AACFP,MAAAA,GAAG,CAACQ,MAAJ,CAAW,GAAX,EAAgBD,GAAhB,CAAqB,UAASN,MAAO,cAArC;AACF;AACH,GAZD,CAYC,OAAMQ,GAAN,EAAU;AACRT,IAAAA,GAAG,CAACQ,MAAJ,CAAW,GAAX,EAAgBE,IAAhB,CAAqB;AAACC,MAAAA,UAAU,EAAE,GAAb;AAAkBC,MAAAA,GAAG,EAAEH,GAAG,CAACI;AAA3B,KAArB;AACF;AACH","sourcesContent":["const { serialize } = require('cookie');\n\nexport default async function handler(req, res){\n   try{\n      const { method } = req;\n      if(method === 'GET'){\n         res.setHeader('Set-Cookie', serialize('tk', '', {\n            maxAge: -1,\n            path: '/'\n         }));\n         res.writeHead(302, { Location: '/' });\n         res.end()\n      }else{\n         res.status(405).end(`Method ${method} Not Allowed`)\n      }\n   }catch(err){\n      res.status(500).json({statusCode: 500, msg: err.message})\n   }\n}\n"]},"metadata":{},"sourceType":"module"}