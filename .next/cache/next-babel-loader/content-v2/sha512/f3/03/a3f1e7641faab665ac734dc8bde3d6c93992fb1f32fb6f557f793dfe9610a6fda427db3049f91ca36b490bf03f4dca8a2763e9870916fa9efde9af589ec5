{"ast":null,"code":"export default async function handler(req, res) {\n  try {\n    const {\n      method\n    } = req;\n\n    if (method === 'GET') {\n      req.logOut();\n      res.status(200).clearCookie('tk');\n      res.redirect('/');\n    } else {\n      res.status(405).end(`Method ${method} Not Allowed`);\n    }\n  } catch (err) {\n    res.status(500).json({\n      statusCode: 500,\n      msg: err.message\n    });\n  }\n}","map":{"version":3,"sources":["/opt/js/storage_sys/pages/api/logout.js"],"names":["handler","req","res","method","logOut","status","clearCookie","redirect","end","err","json","statusCode","msg","message"],"mappings":"AAAA,eAAe,eAAeA,OAAf,CAAuBC,GAAvB,EAA4BC,GAA5B,EAAgC;AAC5C,MAAG;AACA,UAAM;AAAEC,MAAAA;AAAF,QAAaF,GAAnB;;AACA,QAAGE,MAAM,KAAK,KAAd,EAAoB;AACjBF,MAAAA,GAAG,CAACG,MAAJ;AACAF,MAAAA,GAAG,CAACG,MAAJ,CAAW,GAAX,EAAgBC,WAAhB,CAA4B,IAA5B;AACAJ,MAAAA,GAAG,CAACK,QAAJ,CAAa,GAAb;AACF,KAJD,MAIK;AACFL,MAAAA,GAAG,CAACG,MAAJ,CAAW,GAAX,EAAgBG,GAAhB,CAAqB,UAASL,MAAO,cAArC;AACF;AACH,GATD,CASC,OAAMM,GAAN,EAAU;AACRP,IAAAA,GAAG,CAACG,MAAJ,CAAW,GAAX,EAAgBK,IAAhB,CAAqB;AAACC,MAAAA,UAAU,EAAE,GAAb;AAAkBC,MAAAA,GAAG,EAAEH,GAAG,CAACI;AAA3B,KAArB;AACF;AACH","sourcesContent":["export default async function handler(req, res){\n   try{\n      const { method } = req;\n      if(method === 'GET'){\n         req.logOut();\n         res.status(200).clearCookie('tk')\n         res.redirect('/');\n      }else{\n         res.status(405).end(`Method ${method} Not Allowed`)\n      }\n   }catch(err){\n      res.status(500).json({statusCode: 500, msg: err.message})\n   }\n}\n"]},"metadata":{},"sourceType":"module"}